(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8277,e=>{"use strict";e.s(["themeColors",0,{appBackground:"bg-[#f5f2f2]",appBackgroundDark:"bg-[#111827]",surface:"bg-[#ffffff]",surfaceBorder:"border-[#e5e7eb]",surfaceMuted:"bg-[#f5f2f2]",surfaceElevated:"bg-[#ffffff]",surfaceHover:"hover:bg-[#f5f2f2]",textPrimary:"text-[#050505]",textSecondary:"text-[#050505]",textMuted:"text-[#050505]",textOnAccent:"text-white",inputBorder:"border-[#e5e7eb]",inputFocusBorder:"focus:border-[#D4AF37]",inputFocusRing:"focus:ring-[#D4AF37]",buttonPrimaryBg:"bg-[#D4AF37]",buttonPrimaryHoverBg:"hover:bg-[#b38f2c]",buttonPrimaryText:"text-white",accentGoldText:"text-[#D4AF37]",accentGoldBg:"bg-[#D4AF37]",accentGoldDarkBg:"bg-[#b38f2c]",accentGoldLightBg:"bg-[#c9aa4f]",accentSuccessBg:"bg-[#4CAF50]",accentSuccessBorder:"border-[#3c8c40]",accentSuccessHover:"hover:bg-[#3c8c40]",accentDangerBg:"bg-[#F44336]",accentDangerBorder:"border-[#d9372c]",accentDangerHover:"hover:bg-[#d9372c]",accentInfoBg:"bg-[#2196F3]",accentInfoBorder:"border-[#1b7bc4]",accentInfoHover:"hover:bg-[#1b7bc4]",accentNeutralBorder:"border-[#e5e7eb]",accentNeutralShadow:"shadow-sm",overlaySoft:"bg-black/25",dangerText:"text-[#F44336]"}])},18566,(e,r,t)=>{r.exports=e.r(76562)},50375,e=>{"use strict";e.i(36180);var r=e.i(98925),t=e.i(746);async function s(e){let s=(0,r.doc)(t.firestore,"cms-users",e),o=await (0,r.getDoc)(s);if(!o.exists())return null;let a=o.data(),n=Array.isArray(a.assigned_service_areas)?a.assigned_service_areas:[];return"admin"!==a.role&&"operator"!==a.role?null:{id:e,email:a.email??null,name:a.name??null,role:a.role,assigned_service_areas:n}}e.s(["fetchCmsUser",()=>s])},94542,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(18566);e.i(51718);var o=e.i(18357),a=e.i(746),n=e.i(50375),c=e.i(8277);function i(){let e=(0,s.useRouter)(),[i,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[m,f]=(0,t.useState)(!1),[b,g]=(0,t.useState)(null);async function h(r){r.preventDefault(),g(null),f(!0);try{let r=(await (0,o.signInWithEmailAndPassword)(a.firebaseAuth,i.trim(),u)).user,t=await (0,n.fetchCmsUser)(r.uid);if(!t){g("No tienes acceso al CMS. Contacta a un administrador."),f(!1);return}if(window.sessionStorage.setItem("cmsUser",JSON.stringify(t)),"admin"===t.role)return void e.push("/admin");if("operator"===t.role)return void e.push("/operator");g("Rol de usuario no v치lido para el CMS.")}catch(e){g("Error al iniciar sesi칩n. Verifica tus credenciales.")}finally{f(!1)}}return(0,r.jsx)("div",{className:`flex min-h-screen items-center justify-center ${c.themeColors.appBackground}`,children:(0,r.jsxs)("div",{className:`w-full max-w-md rounded-xl p-8 shadow-sm ${c.themeColors.surface}`,children:[(0,r.jsx)("h1",{className:`mb-6 text-2xl font-semibold ${c.themeColors.textPrimary}`,children:"Acceso al panel Rundi"}),(0,r.jsxs)("form",{className:"space-y-4",onSubmit:h,children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"email",className:`block text-sm font-medium ${c.themeColors.textSecondary}`,children:"Correo electr칩nico"}),(0,r.jsx)("input",{id:"email",type:"email",autoComplete:"email",required:!0,className:`w-full rounded-md border px-3 py-2 text-sm outline-none focus:ring-1 ${c.themeColors.surfaceBorder} ${c.themeColors.inputFocusBorder} ${c.themeColors.inputFocusRing}`,value:i,onChange:e=>l(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"password",className:`block text-sm font-medium ${c.themeColors.textSecondary}`,children:"Contrase침a"}),(0,r.jsx)("input",{id:"password",type:"password",autoComplete:"current-password",required:!0,className:`w-full rounded-md border px-3 py-2 text-sm outline-none focus:ring-1 ${c.themeColors.surfaceBorder} ${c.themeColors.inputFocusBorder} ${c.themeColors.inputFocusRing}`,value:u,onChange:e=>d(e.target.value)})]}),b&&(0,r.jsx)("p",{className:`text-sm ${c.themeColors.dangerText}`,role:"alert",children:b}),(0,r.jsx)("button",{type:"submit",disabled:m,className:`flex w-full items-center justify-center rounded-md px-3 py-2 text-sm font-medium transition disabled:cursor-not-allowed disabled:opacity-70 ${c.themeColors.buttonPrimaryBg} ${c.themeColors.buttonPrimaryHoverBg} ${c.themeColors.buttonPrimaryText}`,children:m?"Ingresando...":"Ingresar"})]})]})})}e.s(["default",()=>i])}]);