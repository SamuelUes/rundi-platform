(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,51993,e=>{"use strict";e.s(["typography",0,{h1:"text-2xl font-semibold",h2:"text-sm font-semibold",body:"text-sm",bodyMuted:"text-xs"}])},38346,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(71645),n=e.i(8277),r=e.i(51993);e.i(51718);var l=e.i(18357),i=e.i(746);let c={total:0,draft:0,scheduled:0,active:0,completed:0};function o(e){return e.reduce((e,t)=>(e.total+=1,e[t.status]+=1,e),{...c})}let d={draft:"Borrador",scheduled:"Programada",active:"Activa",completed:"Completada"};function m(e){if(!e)return"--";let t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function x(e){if(!e)return"";let t=new Date(e);if(Number.isNaN(t.getTime()))return"";let a=t.getTimezoneOffset();return new Date(t.getTime()-6e4*a).toISOString().slice(0,16)}function u(e){if(!e)return new Date().toISOString();let t=new Date(e);return Number.isNaN(t.getTime())?new Date().toISOString():t.toISOString()}function p(){let[e,a]=(0,s.useState)(""),[x,u]=(0,s.useState)("all"),{campaigns:p,stats:b,loading:y,error:f,createCampaign:j,updateCampaign:N,deleteCampaign:w,duplicateCampaign:v,sendCampaign:C}=function(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(c),[r,d]=(0,s.useState)(!0),[m,x]=(0,s.useState)(null),[u,p]=(0,s.useState)(i.firebaseAuth.currentUser),h=(0,s.useCallback)(e=>{t(t=>{let a=e(t);return n(o(a)),a})},[]),g=(0,s.useCallback)(async()=>{if(!u)throw Error("Inicia sesión para administrar campañas");return u.getIdToken()},[u]),b=(0,s.useCallback)((e,t)=>{let a=e instanceof Error?e.message:t;return x(a),a},[]),y=(0,s.useCallback)(async()=>{if(!u){t([]),n(c),d(!1),x("Inicia sesión para administrar campañas");return}d(!0);try{let e=await g(),a=await fetch("/api/admin/messaging",{headers:{Authorization:`Bearer ${e}`}}),s=await a.json().catch(()=>({}));if(!a.ok)throw Error(s.error||"No se pudieron cargar las campañas");let r=s.campaigns??[];t(r),n(s.stats??o(r)),x(null)}catch(e){throw b(e,"No se pudieron cargar las campañas"),e}finally{d(!1)}},[u,b,g]);(0,s.useEffect)(()=>{let e=(0,l.onAuthStateChanged)(i.firebaseAuth,async e=>{p(e),e||(t([]),n(c),d(!1),x("Inicia sesión para administrar campañas"))});return()=>e()},[]),(0,s.useEffect)(()=>{u&&y().catch(()=>void 0)},[u,y]);let f=(0,s.useCallback)(async()=>{await y()},[y]),j=(0,s.useCallback)(async e=>{let t=await g(),a=await fetch(`/api/admin/messaging/${e}/send`,{method:"POST",headers:{Authorization:`Bearer ${t}`}}),s=await a.json().catch(()=>({}));if(!a.ok||!s.campaign)throw Error(s.error||"No se pudo enviar la campaña");return h(e=>e.map(e=>e.id===s.campaign.id?s.campaign:e)),s.campaign},[g,h]),N=(0,s.useCallback)(async(e,t)=>{let a=await g(),s=await fetch("/api/admin/messaging",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await s.json().catch(()=>({}));if(!s.ok||!n.campaign)throw Error(n.error||"No se pudo crear la campaña");return(h(e=>[n.campaign,...e]),t?.sendNow)?await j(n.campaign.id):n.campaign},[g,j,h]),w=(0,s.useCallback)(async(e,t,a)=>{let s=await g(),n=await fetch(`/api/admin/messaging/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json().catch(()=>({}));if(!n.ok||!r.campaign)throw Error(r.error||"No se pudo actualizar la campaña");return(h(e=>e.map(e=>e.id===r.campaign.id?r.campaign:e)),a?.sendNow)?await j(r.campaign.id):r.campaign},[g,j,h]),v=(0,s.useCallback)(async e=>{let t=await g(),a=await fetch(`/api/admin/messaging/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),s=await a.json().catch(()=>({}));if(!a.ok)throw Error(s.error||"No se pudo eliminar la campaña");h(t=>t.filter(t=>t.id!==e))},[g,h]),C=(0,s.useCallback)(async e=>N({name:`${e.name} (copia)`,description:e.description,status:e.status,startAt:new Date().toISOString(),endAt:e.endAt,segment:e.segment,channel:e.channel,category:e.category}),[N]),S=(0,s.useCallback)(()=>x(null),[]);return{...(0,s.useMemo)(()=>({campaigns:e,stats:a,loading:r,error:m}),[e,a,r,m]),createCampaign:N,updateCampaign:w,deleteCampaign:v,duplicateCampaign:C,sendCampaign:j,refresh:f,clearError:S}}(),[S,z]=(0,s.useState)(null),[A,E]=(0,s.useState)(null),[k,$]=(0,s.useState)(null),[_,T]=(0,s.useState)(null),[P,D]=(0,s.useState)(null),O=f??S;async function I(e){if(window.confirm(`\xbfEliminar "${e.name}" de forma permanente?`)){$(e.id);try{await w(e.id),z(null)}catch(e){z(e instanceof Error?e.message:"No se pudo eliminar la campaña")}finally{$(null)}}}async function B(e){D(e.id);try{await C(e.id),z(null)}catch(e){z(e instanceof Error?e.message:"No se pudo enviar la campaña")}finally{D(null)}}let L=(0,s.useMemo)(()=>{let t=e.toLowerCase().trim();return p.filter(e=>{let a="all"===x||e.status===x,s=`${e.name} ${e.description} ${e.segment}`.toLowerCase(),n=!t||s.includes(t);return a&&n})},[p,e,x]),M=(0,s.useMemo)(()=>({total:b.total,active:b.active,scheduled:b.scheduled}),[b]);async function q(e,t,a,s){let n=s?.sendNow??!1;try{"create"===t?await j(e,{sendNow:n}):a&&await N(a.id,e,{sendNow:n}),T(null),z(null)}catch(e){throw z(e instanceof Error?e.message:"No se pudo guardar la campaña"),e}}async function U(e){E(e.id);try{await v(e),z(null)}catch(e){z(e instanceof Error?e.message:"No se pudo duplicar la campaña")}finally{E(null)}}return(0,t.jsxs)("section",{className:"space-y-5",children:[(0,t.jsxs)("header",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:`${r.typography.h1} ${n.themeColors.textPrimary}`,children:"Messaging"}),(0,t.jsx)("p",{className:`${r.typography.body} ${n.themeColors.textSecondary}`,children:"Programa campañas multicanal y da seguimiento a sus resultados."})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{onClick:()=>T({mode:"create",category:"experiment"}),className:`rounded-md border px-4 py-2 text-sm font-medium ${n.themeColors.surfaceHover} ${n.themeColors.textPrimary}`,children:"Experimento nuevo"}),(0,t.jsx)("button",{onClick:()=>T({mode:"create",category:"campaign"}),className:`rounded-md px-4 py-2 text-sm font-semibold ${n.themeColors.buttonPrimaryBg} ${n.themeColors.buttonPrimaryText}`,children:"Campaña nueva"})]})]}),(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,t.jsx)(h,{label:"Campañas",value:M.total,detail:"Totales"}),(0,t.jsx)(h,{label:"Activas",value:M.active,detail:"En curso"}),(0,t.jsx)(h,{label:"Programadas",value:M.scheduled,detail:"Próximas"})]})]}),O&&(0,t.jsx)("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:O}),(0,t.jsxs)("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{className:"rounded-full border border-zinc-300 px-3 py-1 text-xs font-medium text-zinc-600",type:"button",children:"Filtrar campañas"}),["all","active","scheduled","completed","draft"].map(e=>(0,t.jsx)("button",{onClick:()=>u("all"===e?"all":e),className:`rounded-full px-3 py-1 text-xs font-semibold ${x===e?`${n.themeColors.accentGoldBg} ${n.themeColors.buttonPrimaryText}`:"bg-zinc-100 text-zinc-600"}`,children:"all"===e?"Todas":d[e]},e))]}),(0,t.jsx)("div",{className:"w-full max-w-sm",children:(0,t.jsx)("input",{type:"search",value:e,onChange:e=>a(e.target.value),placeholder:"Buscar campañas por nombre, descripción o segmento",className:`w-full rounded-lg border px-3 py-2 text-sm outline-none ${n.themeColors.surface} ${n.themeColors.inputBorder}`})})]}),(0,t.jsxs)("div",{className:"mt-5 overflow-x-auto",children:[(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{className:"text-xs uppercase text-zinc-500",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2",children:"Campaña"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Inicio"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Fin"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Estado"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Segmentación"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Última actualización"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Último envío"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Envíos o impresiones"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Clics o aperturas"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Tipo"}),(0,t.jsx)("th",{className:"px-3 py-2 text-right",children:"Acciones"})]})}),(0,t.jsx)("tbody",{children:y?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:10,className:"px-3 py-6 text-center text-sm text-zinc-500",children:"Cargando campañas..."})}):L.map(e=>(0,t.jsxs)("tr",{className:"border-b last:border-none",children:[(0,t.jsx)("td",{className:"px-3 py-3 align-top",children:(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)("p",{className:"font-semibold text-zinc-900",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-zinc-500",children:e.description})]})}),(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-zinc-700",children:m(e.startAt)}),(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-zinc-700",children:m(e.endAt)}),(0,t.jsx)("td",{className:"px-3 py-3",children:(0,t.jsx)("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${function(e){switch(e){case"active":return"bg-green-100 text-green-700";case"scheduled":return"bg-blue-100 text-blue-700";case"completed":return"bg-zinc-200 text-zinc-700";default:return"bg-yellow-100 text-yellow-700"}}(e.status)}`,children:d[e.status]})}),(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-zinc-700",children:e.segment}),(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-zinc-700",children:m(e.lastUpdate)}),(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-zinc-700",children:e.lastSentAt?(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)("p",{children:m(e.lastSentAt)}),"number"==typeof e.lastSentCount&&(0,t.jsxs)("p",{className:"text-xs text-zinc-500",children:[e.lastSentCount.toLocaleString()," envíos"]})]}):(0,t.jsx)("span",{className:"text-xs text-zinc-400",children:"Sin envíos"})}),(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-zinc-700",children:e.impressions?.toLocaleString()??"--"}),(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-zinc-700",children:e.clicks?.toLocaleString()??"--"}),(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-zinc-700",children:(0,t.jsx)("span",{className:"rounded-full bg-zinc-100 px-2 py-1 text-xs font-semibold text-zinc-600",children:"experiment"===e.category?"Experimento":"Campaña"})}),(0,t.jsx)("td",{className:"px-3 py-3 text-right",children:(0,t.jsxs)("div",{className:"flex flex-wrap justify-end gap-2 text-xs",children:[(0,t.jsx)("button",{onClick:()=>B(e),disabled:P===e.id,className:"rounded-md border border-zinc-200 px-3 py-1 text-xs text-zinc-600 disabled:opacity-60",children:P===e.id?"Enviando...":"Enviar"}),(0,t.jsx)("button",{onClick:()=>T({mode:"edit",campaign:e,category:e.category}),className:"rounded-md border border-zinc-200 px-3 py-1 text-xs text-zinc-600",children:"Editar"}),(0,t.jsx)("button",{onClick:()=>U(e),disabled:A===e.id,className:"rounded-md border border-zinc-200 px-3 py-1 text-xs text-zinc-600 disabled:opacity-60",children:A===e.id?"Duplicando...":"Duplicar"}),(0,t.jsx)("button",{onClick:()=>I(e),disabled:k===e.id,className:"rounded-md border border-red-200 px-3 py-1 text-xs text-red-600 disabled:opacity-60",children:k===e.id?"Eliminando...":"Eliminar"})]})})]},e.id))})]}),!y&&0===L.length&&(0,t.jsx)("p",{className:"py-6 text-center text-sm text-zinc-500",children:"No se encontraron campañas con los filtros seleccionados."})]})]}),_&&(0,t.jsx)(g,{mode:_.mode,category:_.category,initialData:_.campaign,onClose:()=>T(null),onSave:(e,t)=>q(e,_.mode,_.campaign,t)},_.campaign?.id??_.category)]})}function h(e){let s,n,r,l,i=(0,a.c)(10),{label:c,value:o,detail:d}=e;return i[0]!==c?(s=(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-zinc-500",children:c}),i[0]=c,i[1]=s):s=i[1],i[2]!==o?(n=(0,t.jsx)("p",{className:"text-3xl font-semibold text-zinc-900",children:o}),i[2]=o,i[3]=n):n=i[3],i[4]!==d?(r=(0,t.jsx)("p",{className:"text-xs text-zinc-500",children:d}),i[4]=d,i[5]=r):r=i[5],i[6]!==s||i[7]!==n||i[8]!==r?(l=(0,t.jsxs)("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[s,n,r]}),i[6]=s,i[7]=n,i[8]=r,i[9]=l):l=i[9],l}function g(e){let l,i,c,o,m,p,h,g,f,j,N,w,v,C,S,z,A,E,k,$,_,T,P,D,O,I,B,L,M,q,U,F,G,H,J,K,R,Q,V,W,X,Y,Z,ee=(0,a.c)(95),{mode:et,category:ea,initialData:es,onClose:en,onSave:er}=e,el=es?.status??"draft";ee[0]!==ea||ee[1]!==es?(l=es??{name:"",description:"",status:"draft",startAt:new Date().toISOString(),endAt:null,segment:"",channel:"push",category:ea},ee[0]=ea,ee[1]=es,ee[2]=l):l=ee[2];let[ei,ec]=(0,s.useState)(l),[eo,ed]=(0,s.useState)(!1),[em,ex]=(0,s.useState)(el);ee[3]===Symbol.for("react.memo_cache_sentinel")?(i=function(e,t){ec(a=>({...a,[e]:t}))},ee[3]=i):i=ee[3];let eu=i;ee[4]!==ei.status||ee[5]!==em?(c=function(){ed(e=>(e?ec(e=>({...e,status:em})):(ex(ei.status??"draft"),ec(y)),!e))},ee[4]=ei.status,ee[5]=em,ee[6]=c):c=ee[6];let ep=c;ee[7]!==ei||ee[8]!==er||ee[9]!==eo?(o=function(e){e.preventDefault(),er(ei,{sendNow:eo})},ee[7]=ei,ee[8]=er,ee[9]=eo,ee[10]=o):o=ee[10];let eh=o,eg="experiment"===ea?"Experimento":"Campaña";ee[11]!==eg?(m=(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-zinc-500",children:eg}),ee[11]=eg,ee[12]=m):m=ee[12];let eb="create"===et?"Crear":"Editar",ey="experiment"===ea?"experimento":"campaña";ee[13]!==eb||ee[14]!==ey?(p=(0,t.jsxs)("h2",{className:`${r.typography.h1} ${n.themeColors.textPrimary}`,children:[eb," ",ey]}),ee[13]=eb,ee[14]=ey,ee[15]=p):p=ee[15],ee[16]!==m||ee[17]!==p?(h=(0,t.jsxs)("div",{children:[m,p]}),ee[16]=m,ee[17]=p,ee[18]=h):h=ee[18];let ef=`rounded-md border px-3 py-1 text-xs font-semibold ${eo?"border-green-400 text-green-600":"text-zinc-600"}`,ej=eo?"Modo enviar ahora":"Enviar justo ahora";ee[19]!==ef||ee[20]!==ej||ee[21]!==ep?(g=(0,t.jsx)("button",{type:"button",onClick:ep,className:ef,children:ej}),ee[19]=ef,ee[20]=ej,ee[21]=ep,ee[22]=g):g=ee[22],ee[23]!==en?(f=(0,t.jsx)("button",{onClick:en,className:"text-sm text-zinc-500",children:"Cerrar"}),ee[23]=en,ee[24]=f):f=ee[24],ee[25]!==g||ee[26]!==f?(j=(0,t.jsxs)("div",{className:"flex gap-2",children:[g,f]}),ee[25]=g,ee[26]=f,ee[27]=j):j=ee[27],ee[28]!==h||ee[29]!==j?(N=(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[h,j]}),ee[28]=h,ee[29]=j,ee[30]=N):N=ee[30],ee[31]===Symbol.for("react.memo_cache_sentinel")?(w=e=>eu("name",e.target.value),ee[31]=w):w=ee[31],ee[32]!==ei.name?(v=(0,t.jsxs)("label",{className:"text-xs font-semibold text-zinc-500",children:["Nombre",(0,t.jsx)("input",{required:!0,value:ei.name,onChange:w,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm"})]}),ee[32]=ei.name,ee[33]=v):v=ee[33],ee[34]===Symbol.for("react.memo_cache_sentinel")?(C=e=>eu("segment",e.target.value),ee[34]=C):C=ee[34],ee[35]!==ei.segment?(S=(0,t.jsxs)("label",{className:"text-xs font-semibold text-zinc-500",children:["Segmento",(0,t.jsx)("input",{required:!0,value:ei.segment,onChange:C,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm"})]}),ee[35]=ei.segment,ee[36]=S):S=ee[36],ee[37]!==v||ee[38]!==S?(z=(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[v,S]}),ee[37]=v,ee[38]=S,ee[39]=z):z=ee[39],ee[40]===Symbol.for("react.memo_cache_sentinel")?(A=e=>eu("description",e.target.value),ee[40]=A):A=ee[40],ee[41]!==ei.description?(E=(0,t.jsxs)("label",{className:"text-xs font-semibold text-zinc-500",children:["Descripción",(0,t.jsx)("textarea",{required:!0,value:ei.description,onChange:A,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",rows:3})]}),ee[41]=ei.description,ee[42]=E):E=ee[42],ee[43]!==ei.startAt?(k=x(ei.startAt),ee[43]=ei.startAt,ee[44]=k):k=ee[44],ee[45]===Symbol.for("react.memo_cache_sentinel")?($=e=>eu("startAt",u(e.target.value)),ee[45]=$):$=ee[45],ee[46]!==eo||ee[47]!==k?(_=(0,t.jsxs)("label",{className:"text-xs font-semibold text-zinc-500",children:["Inicio",(0,t.jsx)("input",{type:"datetime-local",required:!0,value:k,onChange:$,disabled:eo,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm"})]}),ee[46]=eo,ee[47]=k,ee[48]=_):_=ee[48],ee[49]!==ei.endAt?(T=x(ei.endAt),ee[49]=ei.endAt,ee[50]=T):T=ee[50],ee[51]===Symbol.for("react.memo_cache_sentinel")?(P=e=>eu("endAt",e.target.value?u(e.target.value):null),ee[51]=P):P=ee[51],ee[52]!==eo||ee[53]!==T?(D=(0,t.jsxs)("label",{className:"text-xs font-semibold text-zinc-500",children:["Fin (opcional)",(0,t.jsx)("input",{type:"datetime-local",value:T,onChange:P,disabled:eo,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm"})]}),ee[52]=eo,ee[53]=T,ee[54]=D):D=ee[54],ee[55]!==_||ee[56]!==D?(O=(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[_,D]}),ee[55]=_,ee[56]=D,ee[57]=O):O=ee[57];let eN=ei.status;ee[58]===Symbol.for("react.memo_cache_sentinel")?(I=e=>eu("status",e.target.value),ee[58]=I):I=ee[58],ee[59]===Symbol.for("react.memo_cache_sentinel")?(B=Object.entries(d).map(b),ee[59]=B):B=ee[59],ee[60]!==ei.status||ee[61]!==eo?(L=(0,t.jsxs)("label",{className:"text-xs font-semibold text-zinc-500",children:["Estado",(0,t.jsx)("select",{value:eN,onChange:I,disabled:eo,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",children:B})]}),ee[60]=ei.status,ee[61]=eo,ee[62]=L):L=ee[62],ee[63]===Symbol.for("react.memo_cache_sentinel")?(M=e=>eu("channel",e.target.value),ee[63]=M):M=ee[63],ee[64]===Symbol.for("react.memo_cache_sentinel")?(q=(0,t.jsx)("option",{value:"push",children:"Push"}),U=(0,t.jsx)("option",{value:"in_app",children:"In-app"}),F=(0,t.jsx)("option",{value:"email",children:"Email"}),ee[64]=q,ee[65]=U,ee[66]=F):(q=ee[64],U=ee[65],F=ee[66]),ee[67]!==ei.channel?(G=(0,t.jsxs)("label",{className:"text-xs font-semibold text-zinc-500",children:["Canal",(0,t.jsxs)("select",{value:ei.channel,onChange:M,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",children:[q,U,F]})]}),ee[67]=ei.channel,ee[68]=G):G=ee[68],ee[69]===Symbol.for("react.memo_cache_sentinel")?(H=e=>eu("category",e.target.value),ee[69]=H):H=ee[69],ee[70]===Symbol.for("react.memo_cache_sentinel")?(J=(0,t.jsx)("option",{value:"campaign",children:"Campaña"}),K=(0,t.jsx)("option",{value:"experiment",children:"Experimento"}),ee[70]=J,ee[71]=K):(J=ee[70],K=ee[71]),ee[72]!==ei.category?(R=(0,t.jsxs)("label",{className:"text-xs font-semibold text-zinc-500",children:["Categoría",(0,t.jsxs)("select",{value:ei.category,onChange:H,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",children:[J,K]})]}),ee[72]=ei.category,ee[73]=R):R=ee[73],ee[74]!==L||ee[75]!==G||ee[76]!==R?(Q=(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[L,G,R]}),ee[74]=L,ee[75]=G,ee[76]=R,ee[77]=Q):Q=ee[77],ee[78]!==en?(V=(0,t.jsx)("button",{type:"button",onClick:en,className:"rounded-md border px-4 py-2 text-sm text-zinc-600",children:"Cancelar"}),ee[78]=en,ee[79]=V):V=ee[79];let ew=eo?"Mandar ahora":"create"===et?"Guardar":"Actualizar";return ee[80]!==ew?(W=(0,t.jsx)("button",{type:"submit",className:`rounded-md px-4 py-2 text-sm font-semibold ${n.themeColors.buttonPrimaryBg} ${n.themeColors.buttonPrimaryText}`,children:ew}),ee[80]=ew,ee[81]=W):W=ee[81],ee[82]!==V||ee[83]!==W?(X=(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[V,W]}),ee[82]=V,ee[83]=W,ee[84]=X):X=ee[84],ee[85]!==eh||ee[86]!==z||ee[87]!==E||ee[88]!==O||ee[89]!==Q||ee[90]!==X?(Y=(0,t.jsxs)("form",{className:"space-y-4",onSubmit:eh,children:[z,E,O,Q,X]}),ee[85]=eh,ee[86]=z,ee[87]=E,ee[88]=O,ee[89]=Q,ee[90]=X,ee[91]=Y):Y=ee[91],ee[92]!==N||ee[93]!==Y?(Z=(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl rounded-2xl bg-white p-6 shadow-2xl",children:[N,Y]})}),ee[92]=N,ee[93]=Y,ee[94]=Z):Z=ee[94],Z}function b(e){let[a,s]=e;return(0,t.jsx)("option",{value:a,children:s},a)}function y(e){return{...e,status:"active",startAt:new Date().toISOString()}}e.s(["default",()=>p],38346)}]);