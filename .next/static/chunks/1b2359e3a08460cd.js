(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,51993,e=>{"use strict";e.s(["typography",0,{h1:"text-2xl font-semibold",h2:"text-sm font-semibold",body:"text-sm",bodyMuted:"text-xs"}])},74207,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(51718);var r=e.i(18357),i=e.i(746),l=e.i(8277),c=e.i(51993);function a(e){return null==e?"N/D":e.toFixed(2)}function d(){let[e,d]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null),[h,u]=(0,s.useState)(""),[p,v]=(0,s.useState)(null),[f,j]=(0,s.useState)({type:"none"}),[b,N]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),[w,z]=(0,s.useState)(null),[$,I]=(0,s.useState)(!1),[D,R]=(0,s.useState)({}),[A,B]=(0,s.useState)({}),[P,k]=(0,s.useState)({}),[V,M]=(0,s.useState)({});(0,s.useEffect)(()=>{let e=(0,r.onAuthStateChanged)(i.firebaseAuth,async e=>{if(!e){m("Sesión no encontrada."),o(!1);return}try{let t=await e.getIdToken();v(t);let s=await fetch("/api/admin/designated-drivers",{headers:{Authorization:`Bearer ${t}`}});if(!s.ok){let e=(await s.json().catch(()=>({}))).error||"Error al cargar solicitudes.";m(e),o(!1);return}let r=await s.json();d(r.drivers||[]),o(!1)}catch(e){m("Error al comunicar con el servidor."),o(!1)}});return()=>e()},[]);let L=(0,s.useMemo)(()=>{let t=h.trim().toLowerCase();return t?e.filter(e=>[e.driverId,e.userId,e.email,e.name,e.phone,e.department,e.municipality,e.accountStatus,e.documentsStatus,e.licenseNumber,e.licenseExpiry,e.primaryVehicle?.plate,e.primaryVehicle?.brand,e.primaryVehicle?.model].filter(Boolean).join(" ").toLowerCase().includes(t)):e},[e,h]),O=e=>{let t="active"===(e.accountStatus??"").toLowerCase(),s="verified"===(e.documentsStatus??"").toLowerCase(),r="verified"===(e.designatedRoleRequested??"").toLowerCase(),i=e.vehicles.some(e=>e.isActive),l="approved"===e.designatedStatus;return!(t&&s&&r&&i&&l)},T=(0,s.useMemo)(()=>L.filter(e=>O(e)),[L]),E=(0,s.useMemo)(()=>L.filter(e=>!O(e)),[L]);async function F(e){if(!p)return null;try{let t=await fetch(`/api/admin/designated-drivers/stats?userId=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${p}`}});if(!t.ok)return null;let s=await t.json();return R(t=>({...t,[e]:s})),s}catch{return null}}async function q(e){if(N(null),j({type:"profile",driver:e}),p)try{let t=D[e.userId]??null;if(t)return void N(t);y(!0);let s=await F(e.userId);s&&N(s),y(!1)}catch{y(!1)}}function U(e,t){z(null);let s=t??e.vehicles[0]??null;j({type:"vehicleDocs",driver:e,vehicle:s})}function H(e,t){d(s=>s.map(s=>s.driverId===e?{...s,...t}:s))}async function K(e){if(p){S(!0),z(null);try{let t=await fetch("/api/admin/designated-drivers/actions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify(e)});if(!t.ok){let e=(await t.json().catch(()=>({}))).error||"Error al ejecutar acción.";return z(e),S(!1),null}let s=await t.json();return S(!1),s}catch{return z("Error de red al ejecutar acción."),S(!1),null}}}async function W(e){await K({type:"approveService",driverId:e.driverId})&&H(e.driverId,{designatedStatus:"approved"})}async function J(e){await K({type:"rejectService",driverId:e.driverId})&&H(e.driverId,{designatedStatus:"inactive"})}async function _(e){await K({type:"approveDriverDocs",driverId:e.driverId})&&(H(e.driverId,{accountStatus:"active",documentsStatus:"verified"}),j({type:"none"}))}async function G(e){await K({type:"rejectDriverDocs",driverId:e.driverId})&&(H(e.driverId,{accountStatus:"rejected",documentsStatus:"rejected"}),j({type:"none"}))}async function Q(e,t){!t||await K({type:"approveVehicleDocs",vehicleId:t.id})&&(d(s=>s.map(s=>{if(s.driverId!==e.driverId)return s;let r=s.vehicles.map(e=>e.id===t.id?{...e,isActive:!0}:e),i=r.find(e=>e.isActive)||r[0]||null;return{...s,vehicles:r,primaryVehicle:i}})),j({type:"none"}))}async function X(e,t){!t||await K({type:"rejectVehicleDocs",vehicleId:t.id})&&(d(s=>s.map(s=>{if(s.driverId!==e.driverId)return s;let r=s.vehicles.map(e=>e.id===t.id?{...e,isActive:!1}:e),i=r.find(e=>e.isActive)||r[0]||null;return{...s,vehicles:r,primaryVehicle:i}})),j({type:"none"}))}let Y="none"!==f.type;async function Z(e){let t=e.userId,s=!V[t];M(e=>({...e,[t]:s})),!s||D[t]||A[t]||(B(e=>({...e,[t]:!0})),k(e=>({...e,[t]:null})),await F(t)||k(e=>({...e,[t]:"No se pudo cargar el resumen"})),B(e=>({...e,[t]:!1})))}let ee=e=>{let s=e.primaryVehicle??e.vehicles[0]??null,r=s?`${s.plate??"Sin placa"} \xb7 ${s.brand??"Marca"} ${s.model??"Modelo"}`:"Sin vehículo principal",i="active"===e.accountStatus&&"verified"===e.documentsStatus,l=(e.designatedRoleRequested??"pending").toLowerCase(),c=(()=>{if("pending"===l)return{label:"Aún no solicitado",className:"bg-zinc-100 text-zinc-600"};if("requested"===l)return{label:"Solicitud en revisión",className:"bg-amber-100 text-amber-700"};if("rejected"===l)return{label:"Rol rechazado",className:"bg-red-100 text-red-700"};if("revoked"===l)return{label:"Rol revocado",className:"bg-red-100 text-red-700"};let t=e.designatedStatus;return"approved"===t?{label:"Aprobado",className:"bg-emerald-100 text-emerald-700"}:"inactive"===t?{label:"Inactivo",className:"bg-zinc-200 text-zinc-700"}:"pending"===t?{label:"Pendiente",className:"bg-amber-100 text-amber-700"}:{label:"Sin solicitud",className:"bg-zinc-100 text-zinc-600"}})(),d=!!V[e.userId],n=D[e.userId],o=A[e.userId],x=P[e.userId];return(0,t.jsxs)("article",{className:"rounded-2xl border border-zinc-200 bg-white p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg",children:[(0,t.jsxs)("header",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-zinc-900",children:e.name||e.email||e.userId}),(0,t.jsxs)("p",{className:"text-xs text-zinc-700",children:["UID: ",e.userId]}),(0,t.jsxs)("p",{className:"text-xs text-zinc-700",children:["Dept/Mun: ",e.department||"-"," / ",e.municipality||"-"]}),(0,t.jsxs)("p",{className:"text-xs text-zinc-700",children:["Vehículo principal: ",r]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[(0,t.jsx)("button",{type:"button",onClick:()=>q(e),className:"rounded-full border border-zinc-200 px-3 py-1 font-medium text-zinc-600 hover:border-zinc-400",children:"Ver perfil"}),(0,t.jsx)("button",{type:"button",onClick:()=>{z(null),j({type:"driverDocs",driver:e})},className:"rounded-full border border-zinc-200 px-3 py-1 font-medium text-zinc-600 hover:border-zinc-400",children:"Docs conductor"}),(0,t.jsx)("button",{type:"button",onClick:()=>U(e,s),className:"rounded-full border border-zinc-200 px-3 py-1 font-medium text-zinc-600 hover:border-zinc-400",children:"Docs vehículo"})]})]}),(0,t.jsxs)("div",{className:"mt-4 grid gap-4 lg:grid-cols-3",children:[(0,t.jsxs)("section",{className:"rounded-xl bg-zinc-50 p-3",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-zinc-600",children:"Cuenta y documentos"}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[(0,t.jsxs)("span",{className:"rounded-full bg-zinc-200 px-3 py-0.5 text-[11px] font-semibold text-zinc-700",children:["Cuenta: ",e.accountStatus??"pending"]}),(0,t.jsxs)("span",{className:"rounded-full bg-zinc-200 px-3 py-0.5 text-[11px] font-semibold text-zinc-700",children:["Docs: ",e.documentsStatus??"pending"]}),i&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-100 px-3 py-0.5 text-[11px] font-semibold text-emerald-700",children:[(0,t.jsx)("span",{className:"text-base leading-none",children:"✓"})," Validado"]})]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-zinc-500",children:["Licencia: ",e.licenseNumber||"sin número"," · ",e.licenseExpiry||"sin fecha"]})]}),(0,t.jsxs)("section",{className:"rounded-xl bg-zinc-50 p-3",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-zinc-600",children:"Vehículos"}),0===e.vehicles.length&&(0,t.jsx)("p",{className:"mt-2 text-xs text-zinc-500",children:"Sin vehículos registrados"}),e.vehicles.length>0&&(0,t.jsx)("ul",{className:"mt-2 space-y-2 text-xs text-zinc-600",children:e.vehicles.slice(0,3).map(s=>(0,t.jsxs)("li",{className:"flex items-center justify-between rounded-lg border border-white bg-white/70 px-3 py-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-zinc-900",children:s.plate||"Sin placa"}),(0,t.jsxs)("p",{className:"text-[11px] text-zinc-500",children:[s.brand||"Marca"," · ",s.model||"Modelo"," · ",s.isActive?"Activo":"Pendiente"]}),s.isActive&&(0,t.jsx)("p",{className:"text-[11px] font-semibold text-emerald-600",children:"Docs validados"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>U(e,s),className:"rounded-full border border-zinc-200 px-2 py-0.5 text-[11px] font-semibold text-zinc-600 hover:border-zinc-400",children:s.isActive?"Ver docs · OK":"Ver docs"})]},s.id))})]}),(0,t.jsxs)("section",{className:"rounded-xl bg-linear-to-br from-amber-50 to-white p-3",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-zinc-600",children:"Servicio Conductor Designado"}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[(0,t.jsx)("span",{className:`inline-flex items-center rounded-full px-3 py-0.5 text-xs font-semibold ${c.className}`,children:c.label}),(0,t.jsxs)("span",{className:`inline-flex items-center rounded-full px-3 py-0.5 text-xs font-semibold ${{pending:"bg-zinc-100 text-zinc-600",requested:"bg-amber-100 text-amber-700",verified:"bg-emerald-100 text-emerald-700",rejected:"bg-red-100 text-red-700",revoked:"bg-red-100 text-red-700"}[l]??"bg-zinc-100 text-zinc-600"}`,children:["Rol Conductor Designado: ",{pending:"Aún no solicitado",requested:"Solicitud enviada",verified:"Rol verificado",rejected:"Solicitud rechazada",revoked:"Rol revocado"}[l]??"Sin registro"]})]}),(0,t.jsxs)("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>W(e),className:"inline-flex items-center justify-center rounded-lg bg-emerald-500 px-3 py-1.5 text-xs font-semibold text-white shadow hover:bg-emerald-600",children:"Aprobar Solicitud"}),(0,t.jsx)("button",{type:"button",onClick:()=>J(e),className:"inline-flex items-center justify-center rounded-lg bg-red-500 px-3 py-1.5 text-xs font-semibold text-white shadow hover:bg-red-600",children:"Retractarse"})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("button",{type:"button",onClick:()=>Z(e),className:"inline-flex items-center rounded-lg border border-emerald-200 px-3 py-1.5 text-xs font-semibold text-emerald-700 hover:border-emerald-300 hover:text-emerald-800",children:d?"Ocultar resumen":"Ver resumen"})}),d&&(0,t.jsxs)("div",{className:"mt-3 rounded-xl border border-zinc-100 bg-white/80 p-3 text-xs text-zinc-600",children:[o&&(0,t.jsx)("p",{children:"Cargando resumen..."}),!o&&x&&(0,t.jsx)("p",{className:"text-red-500",children:x}),!o&&!x&&n&&n.stats&&(0,t.jsxs)("dl",{className:"grid gap-2 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"font-semibold text-zinc-700",children:"Viajes últ. semana"}),(0,t.jsx)("dd",{children:n.stats.lastWeekRides})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"font-semibold text-zinc-700",children:"Viajes últ. mes"}),(0,t.jsx)("dd",{children:n.stats.lastMonthRides})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"font-semibold text-zinc-700",children:"Calificaciones recibidas"}),(0,t.jsx)("dd",{children:n.stats.totalRatings})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"font-semibold text-zinc-700",children:"Rating promedio (cálculo)"}),(0,t.jsx)("dd",{children:a(n.stats.averageRatingComputed)})]})]}),!o&&!x&&!n&&(0,t.jsx)("p",{children:"No hay datos disponibles."})]})]})]}),(0,t.jsxs)("footer",{className:"mt-4 grid gap-3 text-xs text-zinc-500 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-zinc-700",children:"Notas rápidas"}),(0,t.jsxs)("p",{children:["Viajes totales: ",e.totalRides??"N/D"]}),(0,t.jsxs)("p",{children:["Rating promedio: ",a(e.averageRating)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-zinc-700",children:"Próximos pasos"}),(0,t.jsx)("p",{children:"1. Validar documentos y fotos."}),(0,t.jsx)("p",{children:"2. Aprobar solicitud de conductor designado cuando todo esté listo."})]})]})]},e.driverId)};return(0,t.jsxs)("section",{className:"space-y-4",children:[(0,t.jsxs)("header",{className:"space-y-1",children:[(0,t.jsx)("h1",{className:`${c.typography.h1} ${l.themeColors.textPrimary}`,children:"Solicitudes de Conductor"}),(0,t.jsx)("p",{className:`${c.typography.body} ${l.themeColors.textSecondary}`,children:"Revisión de documentos de conductores y vehículos, y aprobación de servicio de conductor designado."})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("input",{type:"search",value:h,onChange:e=>u(e.target.value),placeholder:"Buscar por nombre, email, UID, placa o municipio",className:`w-full rounded-md border px-3 py-2 text-sm outline-none ring-0 ${l.themeColors.surface} ${l.themeColors.inputBorder} ${l.themeColors.textPrimary}`}),(0,t.jsx)("p",{className:`mt-1 text-xs ${l.themeColors.textMuted}`,children:"La búsqueda aplica sobre: UID, email, nombre, teléfono, departamento, municipio, licencia y placa de vehículo."})]}),(0,t.jsxs)("div",{className:"flex flex-col text-xs text-zinc-500 md:items-end",children:[(0,t.jsxs)("p",{children:["Total filtrados: ",L.length]}),(0,t.jsxs)("p",{children:["Pendientes: ",T.length," · Revisados: ",E.length]})]})]}),n&&(0,t.jsx)("p",{className:`${c.typography.body} ${l.themeColors.textSecondary}`,children:"Cargando solicitudes..."}),!n&&x&&(0,t.jsx)("p",{className:`${c.typography.body} ${l.themeColors.dangerText}`,children:x}),!n&&!x&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-zinc-800",children:"Pendientes por validar"}),(0,t.jsxs)("p",{className:"text-xs text-zinc-500",children:["Documentos o servicio aún en revisión · ",T.length," conductores"]})]})}),0===T.length?(0,t.jsx)("p",{className:"rounded-xl border border-dashed border-zinc-200 bg-white p-6 text-center text-sm text-zinc-500",children:"No hay solicitudes pendientes."}):(0,t.jsx)("div",{className:"space-y-4",children:T.map(e=>ee(e))})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-zinc-800",children:"Revisados"}),(0,t.jsxs)("p",{className:"text-xs text-zinc-500",children:["Conductores con revisión finalizada (aprobados o rechazados) · ",E.length]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>I(e=>!e),className:"text-xs font-semibold text-emerald-600 hover:text-emerald-700",children:$?"Ocultar":"Mostrar"})]}),$&&(0===E.length?(0,t.jsx)("p",{className:"rounded-xl border border-dashed border-zinc-200 bg-white p-6 text-center text-sm text-zinc-500",children:"Aún no hay conductores revisados."}):(0,t.jsx)("div",{className:"space-y-4",children:E.map(e=>ee(e))}))]})]}),Y&&(0,t.jsx)("div",{className:`fixed inset-0 z-50 flex items-center justify-center ${l.themeColors.overlaySoft}`,children:(0,t.jsxs)("div",{className:"max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-lg bg-white p-4 shadow-lg",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:`${c.typography.h2} ${l.themeColors.textPrimary}`,children:"profile"===f.type?"Perfil del conductor":"driverDocs"===f.type?"Documentos del conductor":"Documentos del vehículo"}),(0,t.jsx)("button",{type:"button",onClick:()=>j({type:"none"}),className:`rounded px-2 py-1 text-xs ${l.themeColors.textSecondary} ${l.themeColors.surfaceHover}`,children:"Cerrar"})]}),w&&(0,t.jsx)("p",{className:`mb-2 text-xs ${l.themeColors.dangerText}`,children:w}),"profile"===f.type&&(0,t.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"h-24 w-24 overflow-hidden rounded-full bg-zinc-100",children:f.driver.profilePhoto?(0,t.jsx)("img",{src:f.driver.profilePhoto,alt:"Foto de perfil",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-xs text-zinc-400",children:"Sin foto"})}),(0,t.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-bold ${l.themeColors.textMuted}`,children:f.driver.name||f.driver.email||f.driver.userId}),(0,t.jsx)("div",{className:l.themeColors.textMuted,children:f.driver.email}),(0,t.jsx)("div",{className:l.themeColors.textMuted,children:f.driver.phone}),(0,t.jsxs)("div",{className:l.themeColors.textMuted,children:["UID: ",f.driver.userId]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:l.themeColors.textMuted,children:[" Dept/Mun: ",f.driver.department||"-"," / "," ",f.driver.municipality||"-"]})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:`rounded border p-3 ${l.themeColors.surfaceMuted}`,children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-medium ${l.themeColors.textSecondary}`,children:"Resumen global"}),(0,t.jsxs)("div",{className:`space-y-0.5 text-xs ${l.themeColors.textSecondary}`,children:[(0,t.jsxs)("div",{children:["Viajes totales: ",f.driver.totalRides??"N/D"]}),(0,t.jsxs)("div",{children:["Rating promedio: ",a(f.driver.averageRating)]})]})]}),(0,t.jsxs)("div",{className:`rounded border p-3 ${l.themeColors.surfaceMuted}`,children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-medium ${l.themeColors.textSecondary}`,children:"Última semana / mes"}),g&&(0,t.jsx)("p",{className:`text-xs ${l.themeColors.textSecondary}`,children:"Cargando estadísticas..."}),!g&&b&&(0,t.jsxs)("div",{className:`space-y-0.5 text-xs ${l.themeColors.textSecondary}`,children:[(0,t.jsxs)("div",{children:["Viajes últ. semana: ",b.stats.lastWeekRides]}),(0,t.jsxs)("div",{children:["Viajes últ. mes: ",b.stats.lastMonthRides]}),(0,t.jsxs)("div",{children:["Calificaciones recibidas: ",b.stats.totalRatings]}),(0,t.jsxs)("div",{children:["Rating promedio (cálculo):"," ",a(b.stats.averageRatingComputed)]})]}),!g&&!b&&(0,t.jsx)("p",{className:`text-xs ${l.themeColors.textSecondary}`,children:"No se encontraron estadísticas adicionales."})]})]}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[(0,t.jsx)("button",{type:"button",disabled:C,onClick:()=>W(f.driver),className:`inline-flex items-center rounded border px-3 py-1 text-[11px] font-medium ${l.themeColors.textOnAccent} ${l.themeColors.accentSuccessBg} ${l.themeColors.accentSuccessBorder} ${l.themeColors.accentSuccessHover} disabled:opacity-60`,children:"Verificar solicitud CD"}),(0,t.jsx)("button",{type:"button",disabled:C,onClick:()=>J(f.driver),className:`inline-flex items-center rounded border px-3 py-1 text-[11px] font-medium ${l.themeColors.textOnAccent} ${l.themeColors.accentDangerBg} ${l.themeColors.accentDangerBorder} ${l.themeColors.accentDangerHover} disabled:opacity-60`,children:"Rechazar solicitud"})]})]}),"driverDocs"===f.type&&(0,t.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:`rounded border p-2 ${l.themeColors.accentNeutralBorder} ${l.themeColors.accentNeutralShadow} bg-white`,children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-medium ${l.themeColors.textSecondary}`,children:"Foto de perfil"}),(0,t.jsx)("div",{className:"h-32 w-full overflow-hidden rounded bg-zinc-100",children:f.driver.profilePhoto?(0,t.jsx)("img",{src:f.driver.profilePhoto,alt:"Foto de perfil",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-xs text-zinc-400",children:"Sin foto"})})]}),(0,t.jsxs)("div",{className:`rounded border p-2 ${l.themeColors.accentNeutralBorder} ${l.themeColors.accentNeutralShadow} bg-white`,children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-medium ${l.themeColors.textSecondary}`,children:"Licencia (frente)"}),(0,t.jsx)("div",{className:"h-32 w-full overflow-hidden rounded bg-zinc-100",children:f.driver.licensePhotoFront?(0,t.jsx)("img",{src:f.driver.licensePhotoFront,alt:"Licencia frente",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-xs text-zinc-400",children:"Sin foto"})})]}),(0,t.jsxs)("div",{className:`rounded border p-2 ${l.themeColors.accentNeutralBorder} ${l.themeColors.accentNeutralShadow} bg-white`,children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-medium ${l.themeColors.textSecondary}`,children:"Licencia (reverso)"}),(0,t.jsx)("div",{className:"h-32 w-full overflow-hidden rounded bg-zinc-100",children:f.driver.licensePhotoBack?(0,t.jsx)("img",{src:f.driver.licensePhotoBack,alt:"Licencia reverso",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-xs text-zinc-400",children:"Sin foto"})})]})]}),(0,t.jsxs)("div",{className:`space-y-0.5 text-xs ${l.themeColors.textSecondary}`,children:[(0,t.jsxs)("div",{children:["Estado cuenta: ",f.driver.accountStatus||"pending"]}),(0,t.jsxs)("div",{children:["Docs: ",f.driver.documentsStatus||"pending"]}),(0,t.jsxs)("div",{children:["Licencia: ",f.driver.licenseNumber||"N/D"," ("," ",f.driver.licenseExpiry||"sin fecha",")"]}),(0,t.jsxs)("p",{className:`mt-1 text-xs ${l.themeColors.textMuted}`,children:["Al validar, la cuenta quedará en estado ",(0,t.jsx)("strong",{children:"active"})," ","y los documentos en estado ",(0,t.jsx)("strong",{children:"verified"}),"."]})]}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[(0,t.jsx)("button",{type:"button",disabled:C,onClick:()=>_(f.driver),className:`inline-flex items-center rounded border px-3 py-1 text-[11px] font-medium ${l.themeColors.textOnAccent} ${l.themeColors.accentSuccessBg} ${l.themeColors.accentSuccessBorder} ${l.themeColors.accentSuccessHover} disabled:opacity-60`,children:"Validar documentos"}),(0,t.jsx)("button",{type:"button",disabled:C,onClick:()=>G(f.driver),className:`inline-flex items-center rounded border px-3 py-1 text-[11px] font-medium ${l.themeColors.textOnAccent} ${l.themeColors.accentDangerBg} ${l.themeColors.accentDangerBorder} ${l.themeColors.accentDangerHover} disabled:opacity-60`,children:"Rechazar documentos"})]})]}),"vehicleDocs"===f.type&&(0,t.jsx)("div",{className:"space-y-4 text-sm",children:f.vehicle?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:`space-y-0.5 text-xs ${l.themeColors.textSecondary}`,children:[(0,t.jsxs)("div",{className:"font-medium",children:[f.vehicle.plate," - ",f.vehicle.brand," ",f.vehicle.model]}),(0,t.jsxs)("div",{children:["Tipo: ",f.vehicle.type||"auto"," /"," ",f.vehicle.is4x4?"4x4":"No 4x4"]}),(0,t.jsxs)("div",{children:["Estado actual:"," ",f.vehicle.isActive?"Activo":"Inactivo"]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsxs)("div",{className:`rounded border p-2 bg-white ${l.themeColors.accentNeutralBorder} ${l.themeColors.accentNeutralShadow}`,children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-medium ${l.themeColors.textSecondary}`,children:"Foto vehículo"}),(0,t.jsx)("div",{className:"h-32 w-full overflow-hidden rounded bg-zinc-100",children:f.vehicle.vehiclePhoto?(0,t.jsx)("img",{src:f.vehicle.vehiclePhoto,alt:"Vehículo",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-xs text-zinc-400",children:"Sin foto"})})]}),(0,t.jsxs)("div",{className:`rounded border p-2 bg-white ${l.themeColors.accentNeutralBorder} ${l.themeColors.accentNeutralShadow}`,children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-medium ${l.themeColors.textSecondary}`,children:"Circulación (frente)"}),(0,t.jsx)("div",{className:"h-32 w-full overflow-hidden rounded bg-zinc-100",children:f.vehicle.registrationPhotoFront?(0,t.jsx)("img",{src:f.vehicle.registrationPhotoFront,alt:"Circulación frente",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-xs text-zinc-400",children:"Sin foto"})})]}),(0,t.jsxs)("div",{className:`rounded border p-2 bg-white ${l.themeColors.accentNeutralBorder} ${l.themeColors.accentNeutralShadow}`,children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-medium ${l.themeColors.textSecondary}`,children:"Circulación (reverso)"}),(0,t.jsx)("div",{className:"h-32 w-full overflow-hidden rounded bg-zinc-100",children:f.vehicle.registrationPhotoBack?(0,t.jsx)("img",{src:f.vehicle.registrationPhotoBack,alt:"Circulación reverso",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-xs text-zinc-400",children:"Sin foto"})})]}),(0,t.jsxs)("div",{className:`rounded border p-2 bg-white ${l.themeColors.accentNeutralBorder} ${l.themeColors.accentNeutralShadow}`,children:[(0,t.jsx)("div",{className:`mb-1 text-xs font-medium ${l.themeColors.textSecondary}`,children:"Póliza de seguro"}),(0,t.jsx)("div",{className:"h-32 w-full overflow-hidden rounded bg-zinc-100",children:f.vehicle.insurancePhoto?(0,t.jsx)("img",{src:f.vehicle.insurancePhoto,alt:"Póliza",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-xs text-zinc-400",children:"Sin foto"})})]})]}),(0,t.jsxs)("p",{className:`mt-1 text-xs ${l.themeColors.textMuted}`,children:["Al validar, el vehículo quedará con ",(0,t.jsx)("strong",{children:"is_active = TRUE"}),"."]}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[(0,t.jsx)("button",{type:"button",disabled:C,onClick:()=>Q(f.driver,f.vehicle),className:`inline-flex items-center rounded border px-3 py-1 text-[11px] font-medium ${l.themeColors.textOnAccent} ${l.themeColors.accentSuccessBg} ${l.themeColors.accentSuccessBorder} ${l.themeColors.accentSuccessHover} disabled:opacity-60`,children:"Validar vehículo"}),(0,t.jsx)("button",{type:"button",disabled:C,onClick:()=>X(f.driver,f.vehicle),className:`inline-flex items-center rounded border px-3 py-1 text-[11px] font-medium ${l.themeColors.textOnAccent} ${l.themeColors.accentDangerBg} ${l.themeColors.accentDangerBorder} ${l.themeColors.accentDangerHover} disabled:opacity-60`,children:"Rechazar vehículo"})]})]}):(0,t.jsx)("p",{className:`${c.typography.body} ${l.themeColors.textSecondary}`,children:"No hay vehículo asociado o no se encontraron fotos."})})]})})]})}e.s(["default",()=>d])}]);